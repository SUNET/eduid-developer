eduid:
    webapp:
        common:
            # enable disable debug mode
            debug: yes
            # the domain for the session cookie. If this is not set, the cookie will
            # be valid for all subdomains of SERVER_NAME.
            session_cookie_name: sessid
            session_cookie_domain: .eduid.docker
            session_cookie_secure: 0
            # The URL scheme that should be used for URL generation if no URL scheme is
            # available. This defaults to http
            preferred_url_scheme: http
            # Redis config
            redis_host: redis.eduid_dev
            redis_port: 6379
            redis_db: 0
            saml2_logout_redirect_url: http://html.eduid.docker/
            token_service_url: http://dashboard.eduid.docker:8080/services/authn
            celery_config:
                accept_content: ["application/json"]
                broker_url: redis://redis.eduid_dev:6379/1
                result_backend: redis://redis.eduid_dev:6379/1
                broker_transport_options:
                    # backwards incompatible setting that the documentation says will be the default in the future
                    fanout_prefix: true
                # Avoid broken connections across firewall by disabling pool
                # http://docs.celeryproject.org/en/latest/configuration.html#broker-pool-limit
                #BROKER_POOL_LIMIT: 0
                task_routes:
                  'eduid_am.*': {'queue': 'am'}
                  'eduid_msg.*': {'queue': 'msg'}
                  'eduid_lookup_mobile.*': {'queue': 'lookup_mobile'}
            available_languages:
                en: English
                sv: Svenska
            mail_default_from: info@eduid.se
            eduid_site_url: http://html.eduid.docker
            eduid_static_url: http://html.eduid.docker/static/
            dashboard_url: http://dashboard.eduid.docker:8080/profile/
            reset_passwd_url: http://dashboard.eduid.docker:8080/services/security/reset-password
            # set absolute URL so it can be included in emails
            signup_url: http://signup.eduid.docker:8080/register/
            no_authn_urls:
              - "^/status/healthy$"
              - "^/status/sanity-check$"
            action_plugins:
              - tou
              - mfa
            # ENVIRONMENT=(dev|staging|pro)
            environment: dev
            tou_version: test-version
            current_tou_version: test-version  # backwards compat
            secret_key: supersecretkey
        authn:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/authn
            MONGO_URI: mongodb://eduid_authn:eduid_authn_pw@mongodb.eduid_dev
            LOGGER_NAME: authn
            LOG_LEVEL: DEBUG
            # SAML2 and SP config
            SAML2_LOGIN_REDIRECT_URL: /
            SAML2_SETTINGS_MODULE: /opt/eduid/etc/saml2_settings.py
            SAML2_USER_MAIN_ATTRIBUTE: eduPersonPrincipalName
            SAML2_STRIP_SAML_USER_SUFFIX: "@local.eduid.se"
            SIGNUP_AUTHN_SUCCESS_REDIRECT_URL: http://dashboard.eduid.docker:8080
            SIGNUP_AUTHN_FAILURE_REDIRECT_URL: http://html.eduid.docker/
            UNSOLICITED_RESPONSE_REDIRECT_URL: http://dashboard.eduid.docker:8080
            SAFE_RELAY_DOMAIN: eduid.docker:8080
        letter_proofing:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/letter-proofing
            LOGGER_NAME: letter_proofing
            LOG_LEVEL: DEBUG
            MONGO_URI: mongodb://eduid_idproofing_letter:eduid_idproofing_letter_pw@mongodb.eduid_dev
            # Setting EKOPOST_DEBUG_PDF to a path means that the other EKOPOST settings will be ignored
            # and that the pdf only will be written to to the supplied path, not sent to the letter service.
            EKOPOST_DEBUG_PDF: /opt/eduid/run/debug_letter.pdf
            EKOPOST_API_URI: https://api.ekopost.se
            EKOPOST_API_VERIFY_SSL: yes
            EKOPOST_API_USER: ekopost_user
            EKOPOST_API_PW: ekopost_pw
        oidc_proofing:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/oidc-proofing
            LOGGER_NAME: oidc_proofing
            LOG_LEVEL: DEBUG
            CLIENT_REGISTRATION_INFO:
                client_id: client1
                client_secret: abcdef
            PROVIDER_CONFIGURATION_INFO:
                issuer: http://turq:13085/op/
            MONGO_URI: mongodb://eduid_oidc_proofing:eduid_oidc_proofing_pw@mongodb.eduid_dev
        orcid:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/orcid
            LOGGER_NAME: orcid
            LOG_LEVEL: DEBUG
            CLIENT_REGISTRATION_INFO:
                client_id: client1
                client_secret: abcdef
            PROVIDER_CONFIGURATION_INFO:
                issuer: https://sandbox.orcid.org
            MONGO_URI: mongodb://eduid_orcid:eduid_orcid_pw@mongodb.eduid_dev
            ORCID_VERIFY_REDIRECT_URL: /profile/accountlinking
        eidas:
            SERVER_NAME: eidas.eduid.docker:8080
            APPLICATION_ROOT: /
            LOGGER_NAME: eidas
            LOG_LEVEL: DEBUG
            MONGO_URI: mongodb://eduid_eidas:eduid_eidas_pw@mongodb.eduid_dev
            # SAML2 and SP config
            SAML2_SETTINGS_MODULE: /opt/eduid/etc/saml2_settings.py
            SAFE_RELAY_DOMAIN: eduid.docker:8080
            TOKEN_VERIFY_REDIRECT_URL: http://dashboard.eduid.docker:8080/profile/security
            NIN_VERIFY_REDIRECT_URL: http://dashboard.eduid.docker:8080/profile/nins
        lookup_mobile_proofing:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/lookup-mobile-proofing
            LOGGER_NAME: lookup_mobile_proofing
            LOG_LEVEL: DEBUG
            MONGO_URI: mongodb://eduid_lookup_mobile_proofing:eduid_lookup_mobile_proofing_pw@mongodb.eduid_dev
        support:
            SERVER_NAME: support.eduid.docker:8080
            LOGGER_NAME: support
            LOG_LEVEL: DEBUG
            MONGO_URI: mongodb://eduid_support:eduid_support_pw@mongodb.eduid_dev
            STATIC_URL: http://html.eduid.docker/static/
            SUPPORT_PERSONNEL:
              - mojud-dosiv
              - sadug-katoh
        personal_data:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/personal-data
            MONGO_URI: mongodb://eduid_personal_data:eduid_personal_data_pw@mongodb.eduid_dev
            LOG_LEVEL: DEBUG
            LOGGER_NAME: personal_data
        email:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/email
            MONGO_URI: mongodb://eduid_email:eduid_email_pw@mongodb.eduid_dev
            LOG_LEVEL: DEBUG
            LOGGER_NAME: email
            EMAIL_VERIFY_REDIRECT_URL: /profile/emails
        phone:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/phone
            MONGO_URI: mongodb://eduid_phone:eduid_phone_pw@mongodb.eduid_dev
            LOG_LEVEL: DEBUG
            LOGGER_NAME: phone
            PHONE_VERIFICATION_TIMEOUT: 7200
        security:
            SERVER_NAME: dashboard.eduid.docker:8080
            APPLICATION_ROOT: /services/security
            MONGO_URI: mongodb://eduid_security:eduid_security_pw@mongodb.eduid_dev
            LOG_LEVEL: DEBUG
            LOGGER_NAME: security
            VCCS_URL: 'http://turq:13085/'
            PASSWORD_LENGTH: 12
            PASSWORD_ENTROPY: 25
            CHPASS_TIMEOUT: 600
            U2F_APP_ID: https://dashboard.dev.eduid.se
            U2F_MAX_ALLOWED_TOKENS: 50
            U2F_MAX_DESCRIPTION_LENGTH: 64
            U2F_FACETS:
                - https://dashboard.dev.eduid.se
                - https://idp.dev.eduid.se
        signup2:
            SERVER_NAME: signup.eduid.docker:8080
            APPLICATION_ROOT: /services/signup
            MONGO_URI: mongodb://eduid_signup:eduid_signup_pw@mongodb.eduid_dev
            LOG_LEVEL: DEBUG
            LOGGER_NAME: signup2
            PASSWORD_LENGTH: 10
            VCCS_URL: 'http://turq:13085/'
            TOU_URL: http://idp.eduid.docker:8080/services/actions2/get-tous/
            SIGNUP_AUTHN_URL: http://dashboard.eduid.docker:8080/services/authn/signup-authn
            DEFAULT_FINISH_URL: https://www.eduid.se/
            # These keys are for signup.eduid.docker:8080
            RECAPTCHA_PUBLIC_KEY: 6Lf5rCETAAAAAAW6UP4o59VSNEWG7RrzY_b5uH_M
            RECAPTCHA_PRIVATE_KEY: 6Lf5rCETAAAAAAjQbw1-3j_U2xTZSrDYXlWjBQxt
            STUDENTS_LINK: https://www.eduid.se/index.html
            TECHNICIANS_LINK: https://www.eduid.se/tekniker.html
            STAFF_LINK: https://www.eduid.se/personal.html
            FAQ_LINK: https://www.eduid.se/faq.html
        jsconfig:
            # this is configuration for the flask app serving the jsconfig microservice
            SERVER_NAME: eduid.docker:8080
            APPLICATION_ROOT: /services/jsconfig
            LOG_LEVEL: DEBUG
            LOGGER_NAME: jsconfig
            # Dashboard config
            DASHBOARD_BUNDLE_PATH: front-build/dashboard-bundle.dev.js
            DASHBOARD_BUNDLE_VERSION: dev
            # Signup config
            SIGNUP_BUNDLE_PATH: front-build/signup-bundle.dev.js
            SIGNUP_BUNDLE_VERSION: dev
        jsapps:
            ### this is the configuration for the js apps, that is sent by the jsconfig
            ### microservice to the js apps.
            ### Take care not to put any sensitive data here.
            # Shared config
            DEBUG: yes
            STATIC_STUDENTS_URL: http://html.eduid.docker/
            STATIC_TECHNICIANS_URL: http://html.eduid.docker/tekniker.html
            STATIC_STAFF_URL: http://html.eduid.docker/personal.html
            STATIC_FAQ_URL: http://html.eduid.docker/faq.html
            # Dashboard config
            AVAILABLE_LANGUAGES:
                - [en, English]
                - [sv, Svenska]
            DASHBOARD_URL: /profile/
            PERSONAL_DATA_URL: /services/personal-data/
            EMAILS_URL: /services/email/
            MOBILE_URL: /services/phone/
            OIDC_PROOFING_URL: /services/oidc-proofing/proofing/
            LOOKUP_MOBILE_PROOFING_URL: /services/lookup-mobile-proofing/proofing/
            LETTER_PROOFING_URL: /services/letter-proofing/
            SECURITY_URL: /services/security/
            TOKEN_SERVICE_URL: /services/authn/
            OIDC_PROOFING_FREJA_URL: /services/oidc-proofing/freja/proofing/
            ORCID_URL: /services/orcid/
            EIDAS_URL: http://eidas.eduid.docker:8080/
            TOKEN_VERIFY_IDP: http://dev.test.swedenconnect.se/idp
            PASSWORD_LENGTH: 12
            PASSWORD_ENTROPY: 25
            CHPASS_TIMEOUT: 600
            PROOFING_METHODS:
                - letter
                - lookup_mobile
                - oidc
                - eidas
            DEFAULT_COUNTRY_CODE: 46
            # Signup config
            SIGNUP_AUTHN_URL: http://dashboard.eduid.docker:8080/services/authn/signup-authn
            TOU_URL: http://idp.eduid.docker:8080/services/actions2/get-tous/
            # This key is for signup.eduid.docker:8080
            RECAPTCHA_PUBLIC_KEY: 6Lf5rCETAAAAAAW6UP4o59VSNEWG7RrzY_b5uH_M

        actions2:
            SERVER_NAME: idp.eduid.docker:8080
            APPLICATION_ROOT: /services/actions2
            LOG_LEVEL: DEBUG
            MONGO_URI: mongodb://eduid_actions:eduid_actions_pw@mongodb.eduid_dev
            #AM_BROKER_URL: amqp://eduid:eduid_pw@rabbitmq/am
            BUNDLES_PATH: /front-build/
            BUNDLES_VERSION: iamaversion
            IDP_URL: http://idp.eduid.docker:8080/sso/redirect
            U2F_APP_ID: https://dashboard.dev.eduid.se
            U2F_VALID_FACETS:
                - https://dashboard.dev.eduid.se
                - https://idp.dev.eduid.se
            FIDO2_RP_ID: eduid.docker
            EIDAS_URL: http://eidas.eduid.docker:8080/
            MFA_AUTHN_IDP: http://dev.test.swedenconnect.se/idp
        idp:
            # this enviroment is a cherrypy thing, that can have as
            # value(staging|production|embedded|test_suite)
            environment: staging
            static_dir: /opt/eduid/eduid-idp/etc/static_files
            pysaml2_config: /opt/eduid/eduid-idp/etc/idp_pysaml2_settings.py
            listen_port: 8080
            logdir: /var/log/eduid
            logfile: /var/log/eduid/eduid_idp.log
            mongo_uri: mongodb://eduid_idp:eduid_idp_pw@mongodb.eduid_dev/
            userdb_mongo_uri: mongodb://eduid_idp:eduid_idp_pw@mongodb.eduid_dev/eduid_am
            userdb_mongo_database: eduid_am
            sso_session_mongo_uri: mongodb://eduid_idp:eduid_idp_pw@mongodb.eduid_dev/eduid_idp
            authn_info_mongo_uri: mongodb://eduid_idp:eduid_idp_pw@mongodb.eduid_dev/eduid_idp_authninfo
            raven_dsn: https://foo:bar@sentry/2
            content_packages:
                - [eduid_IdP_html, html/]
            password_reset_link: http://dashboard.eduid.docker:8080/services/security/reset-password
            signup_link: http://signup.eduid.docker:8080/
            dashboard_link: http://dashboard.eduid.docker:8080/
            student_link: http://html.eduid.docker/index.html
            technicians_link: http://html.eduid.docker/tekniker.html
            staff_link: http://html.eduid.docker/personal.html
            faq_link: http://html.eduid.docker/faq.html
            privacy_link: http://html.eduid.docker/privacy.html
            # uri for the new actions microservice
            actions_app_uri: http://idp.eduid.docker:8080/services/actions2/
            static_link: http://html.eduid.docker/static
            base_url: http://idp.eduid.docker:8080/
            default_eppn_scope: local.eduid.se
            login_state_ttl: 1
            status_test_usernames: f-testuser1@spam.thulin.net
            default_scoped_affiliation: affiliate@local.eduid.se
            max_authn_failures_per_month: 50
            max_auhtn_failures_per_month: 50   # misspelled in earlier versions
            vccs_url: http://turq:13085/
            insecure_cookies: true
            http_headers: Content-Security-Policy:default-src 'self'; script-src 'self' 'unsafe-inline', X-Frame-Options:DENY
            shared_session_cookie_name: sessid
            shared_session_secret_key: supersecretkey
    worker:
        common:
            CELERY:
                accept_content: ["application/json"]
                broker_url: redis://redis.eduid_dev:6379/1
                result_backend: redis://redis.eduid_dev:6379/1
                broker_transport_options:
                    fanout_patterns: true
                # Workaround for Celery 4.2.1 not issuing AMQP heartbeats
                #broker_heartbeat: 0
        am:
            MONGO_URI: mongodb://eduid_am:eduid_am_pw@mongodb/eduid_am
            NEW_USER_DATE: '2001-01-01'
            ACTION_PLUGINS:
                - "tou"
        msg:
            MONGO_URI: mongodb://mongodb/eduid_msg
            sms_sender: 'eduID'
            template_dir: '/opt/eduid/eduid-msg/etc/templates'
            devel_mode: true
            audit: true
            mail_host: 'localhost'
            mail_port: 25
            mail_starttls: false
        lookup_mobile:
            MONGO_URI: 'mongodb://eduid_lookup_mobile:eduid_lookup_mobile_pw@mongodb/eduid_lookup_mobile'
            transaction_audit: true
            DEVEL_MODE: true
            TELEADRESS_CLIENT_USER: 'TEST'
            TELEADRESS_CLIENT_PASSWORD: 'TEST'
